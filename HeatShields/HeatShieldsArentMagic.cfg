@PART[*]:HAS[@MODULE[ModuleAblator]]
{
	// Stock heat shields are near perfect insulators and nearly thermally
	// indestructible, so their ablator is meaningless. Modify them so that
	// re-entry heating will destory the heat shield once the ablator burns up,
	// exposing the underlying part(s).
	//
	// This has to be high enough that the shield doesn't burn up before it's
	// depleted, but below the 2700K-ish max temp the shield reaches when
	// depleted. Temp before depletion depends on ablator parameters and
	// velocity.
	//
	// Tuned for 120% atmo heating to make re-entry at 3200m/s -> pe=0 survivable
	// with a module-only craft, but not a vertical re-entry. A gentle Eve re-entry
	// is OK, a moderately steep one will be kaboomy. Aerocapture in eve requires
	// caution.
	//
	%maxTemp=1400
	%skinMaxTemp=2500

	// It'd be nice if https://kerbalspaceprogram.com/api/class_module_ablator.html
	// documented these parameters...
	@MODULE[ModuleAblator]
	{
		// Heat offset by each unit of ablator. Increasing this lowers the heat
		// shield temp and lowers ablator burn rate, also the total heat the
		// ablator can ever offset when maxed. Small changes effective, linear.
		//
		// I don't decrease this because I want to be able to carry plenty of
		// ablator for interplanetary re-entries, and because it
		// increases required ablator mass excessively.
		//
		@pyrolysisLossFactor *= 1

		// Base rate of ablator burn. Increasing this increases ablator burn rate
		// and lowers temp (more units of ablator burned = more heat offset).
		// Small changes effective, linear.
		@lossConst *= 0.08

		// Temp offset for ablation. Below this temp no ablation happens. Also
		// seems to affect the heat scaling above the threshold, lowering
		// burn rate for a given lossExp. I want ablator to have a much higher
		// resilience to gentle re-entry, mainly so it doesn't all burn off before
		// the final re-entry when doing repeated passes for aerocapture.
		@ablationTempThresh = 2000

		// Nonlinear factor (possibly exponent) of ablator burn rate.
		// Increasing this makes ablator burn slower and increases temp, so it
		// acts in the opposite direction to lossConst. Needs larger changes.
		@lossExp *= 0.003

		// Stock conductivity is 0.01. You'd think that lowering this
		// would make it a better insulator, accept less outside heat /
		// radiate less outside heat. But it seems to be the opposite.
		// With low values the shield heats more. While I'd like to
		// make it a better insulator, that makes it nearly
		// indestructible when ablator exhausted.
		//@reentryConductivity = 0.01
	}

	@RESOURCE[Ablator]
	{
		// Default to lighter heat shields.
		@amount *= 0.5

		// Allow bigger heat shields. Useful for repeat flybys.
		@maxAmount *= 2
	}
}
